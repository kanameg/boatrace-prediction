## レース結果ダウンロードスクリプト

### 概要
このスクリプトは、指定されたURLから、lzh形式で圧縮されたレース結果をダウンロードします。ダウンロード後圧縮ファイルを解凍します。解凍されたファイルは、Shift-JISエンコーディングのため、UTF-8に変換します。

### 言語
bashスクリプト

### 起動方法
```bash
./download_result.sh YYYY MM DD
```
ここで、`YYYY`は年4桁、`MM`は1桁または2桁の月(0埋めも許可)、`DD`は1桁または2桁の日(0埋めも許可)を表します。

### ダウンロード処理
wgetコマンドを使用して、指定されたURLからlzh形式の圧縮ファイルをダウンロードします。ダウンロードしたファイルは、`data/raw/archives`ディレクトリに保存されます。
指定URLは、`https://www1.mbrace.or.jp/od2/K/{YYYY}{MM}/k{YY}{MM}{DD}.lzh`のような形式です。{YYYY}は年4桁、{MM}は月2桁0埋め、{YY}は年の下2桁、{MM}は月2桁0埋め、{DD}は日2桁0埋めを表します。

### 解凍処理
解凍には`lha`コマンドを使用します。解凍後、ファイルはカレントディレクトリに一時保存されます。（文字コード変換後に削除予定）

### 文字コード変換
解凍されたファイルはShift-JISエンコーディングで保存されているため、`iconv`コマンドを使用してUTF-8に変換します。変換後のファイルは、`data/raw/results`ディレクトリに保存されます。
保存ファイル名は、`k{YY}{MM}{DD}_u8.txt`の形式で、{YY}は年の下2桁、{MM}は月2桁0埋め、{DD}は日2桁0埋めを表します。
正常に変換された場合、元のShift-JISファイルは削除します。

### エラーハンドリング
- 起動時に引数が不足している場合、エラーメッセージを表示して終了します。
- 引数に無効な値が含まれている場合、エラーメッセージを表示して終了します。
- ダウンロードに失敗した場合、エラーメッセージを表示して終了します。
- 解凍に失敗した場合、エラーメッセージを表示して終了します。
- 文字コード変換に失敗した場合、エラーメッセージを表示して終了します。
